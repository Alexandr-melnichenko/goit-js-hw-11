{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const BASE_URL = \"https://pixabay.com/\";\nexport const API_KEY = \"46035162-73af77dc9f391d36c3be30780\";","export const createGalleryMarkup = photos => \n    photos.map(photo => \n        `<li class=\"li-gallery\">\n      <div class=\"img-box\">\n    <a class=\"gallery-link\" href=\"${photo.largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${photo.webformatURL}\"\n          alt=\"${photo.tags}\"\n          title=\"${photo.tags}\"/>\n      </a>\n      </div>\n      <div class=\"description-box\">\n        <div class=\"param-boxes\"><p class=\"parameters\">likes</p>\n        <p class=\"values\">${photo.likes}</p></div>\n        <div class=\"param-boxes\"><p class=\"parameters\">views</p>\n        <p class=\"values\">${photo.views}</p></div>\n        <div class=\"param-boxes\"><p class=\"parameters\">comments</p>\n        <p class=\"values\">${photo.comments}</p></div>\n        <div class=\"param-boxes\"><p class=\"parameters\">downloads</p>\n        <p class=\"values\">${photo.downloads}</p></div>\n      </div>\n      </li>`).join(\"\");\n","// Імпорт бібліотек\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { API_KEY, BASE_URL } from \"./js/pixabay-api\";\nimport { createGalleryMarkup } from \"./js/render-functions\";\n\nconst form = document.querySelector('form.js-search-form');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', onButtonSubmit);\n\nconst showBox = new SimpleLightbox('.img-box a', { \n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n    overlayOpacity: 0.7,\n    className: 'lightbox',\n   });\n\n// Функції для запуску та закриття лоадера\nfunction showLoader() {\ndocument.getElementById('loader').style.display = 'block';\n}\n\nfunction hideLoader() {\n    document.getElementById('loader').style.display = 'none';\n}\n\n   // Колбек при натисканні кнопки + запит на сервер\nfunction onButtonSubmit (event) {\n    event.preventDefault();\n    showLoader();\n\nconst forma = event.currentTarget;\nconst {\n    searchValue: { value: query },\n  } = forma.elements;\nconsole.log(query);\n\n// let searchValue = inputSearchValue();\n \n// Перевірка на пустий інпут    \nif (query === \"\") {\n    iziToast.show({\n        message: `⚠️ Please fill search input`,\n        position: 'topRight',\n        color: 'yellow',\n    })\n     hideLoader();\nreturn\n}\n\nconst options = {\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n};\n\n\n// Перетворюю обʼєкт в урл формат запиту\nconst params = new URLSearchParams(options);\n  console.log(params.toString()); // Для проверки правильности параметров\n\n//   зачистка попередньої видачі\ngallery.innerHTML = \"\";  \n\n// Проміс фетч з запитом та методами обробки даних\nfetch(`${BASE_URL}api/?${params}`)\n.then((response) => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n  .then((photos) => {\n    if(!photos.hits || photos.hits.length === 0) {\n        iziToast.show({\n            title: \"❌\",\n            message: `\"Sorry, there are no images matching your search query. Please try again!\"`,\n            position: 'topRight',\n            color: 'red',\n        })\n        return\n    }\n    console.log(photos);\n    gallery.insertAdjacentHTML(\"beforeend\", createGalleryMarkup(photos.hits));\n    showBox.refresh();\n})\n      \n  .catch((error) => console.log(error))\n  .finally(() => {hideLoader()}); \n}\n\n"],"names":["BASE_URL","API_KEY","createGalleryMarkup","photos","photo","form","gallery","onButtonSubmit","showBox","SimpleLightbox","showLoader","hideLoader","event","forma","query","iziToast","options","params","response","error"],"mappings":"6vBAAO,MAAMA,EAAW,uBACXC,EAAU,qCCDVC,EAAsBC,GAC/BA,EAAO,IAAIC,GACP;AAAA;AAAA,oCAE4BA,EAAM,aAAa;AAAA;AAAA;AAAA,iBAGtCA,EAAM,YAAY;AAAA,iBAClBA,EAAM,IAAI;AAAA,mBACRA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,4BAKDA,EAAM,KAAK;AAAA;AAAA,4BAEXA,EAAM,KAAK;AAAA;AAAA,4BAEXA,EAAM,QAAQ;AAAA;AAAA,4BAEdA,EAAM,SAAS;AAAA;AAAA,YAE/B,EAAE,KAAK,EAAE,ECdfC,EAAO,SAAS,cAAc,qBAAqB,EACnDC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAK,iBAAiB,SAAUE,CAAc,EAE9C,MAAMC,EAAU,IAAIC,EAAe,aAAc,CAC7C,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,GAChB,UAAW,UACf,CAAI,EAGJ,SAASC,GAAa,CACtB,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OAClD,CAEA,SAASC,GAAa,CAClB,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,MACtD,CAGA,SAASJ,EAAgBK,EAAO,CAC5BA,EAAM,eAAc,EACpBF,IAEJ,MAAMG,EAAQD,EAAM,cACd,CACF,YAAa,CAAE,MAAOE,CAAO,CACjC,EAAMD,EAAM,SAMZ,GALA,QAAQ,IAAIC,CAAK,EAKbA,IAAU,GAAI,CACdC,EAAS,KAAK,CACV,QAAS,8BACT,SAAU,WACV,MAAO,QACf,CAAK,EACAJ,IACL,MACA,CAEA,MAAMK,EAAU,CACZ,IAAKf,EACL,EAAGa,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,EAIMG,EAAS,IAAI,gBAAgBD,CAAO,EACxC,QAAQ,IAAIC,EAAO,SAAU,CAAA,EAG/BX,EAAQ,UAAY,GAGpB,MAAM,GAAGN,CAAQ,QAAQiB,CAAM,EAAE,EAChC,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,EACA,KAAMf,GAAW,CAChB,GAAG,CAACA,EAAO,MAAQA,EAAO,KAAK,SAAW,EAAG,CACzCY,EAAS,KAAK,CACV,MAAO,IACP,QAAS,6EACT,SAAU,WACV,MAAO,KACnB,CAAS,EACD,MACH,CACD,QAAQ,IAAIZ,CAAM,EAClBG,EAAQ,mBAAmB,YAAaJ,EAAoBC,EAAO,IAAI,CAAC,EACxEK,EAAQ,QAAO,CACnB,CAAC,EAEE,MAAOW,GAAU,QAAQ,IAAIA,CAAK,CAAC,EACnC,QAAQ,IAAM,CAACR,EAAY,CAAA,CAAC,CAC/B"}