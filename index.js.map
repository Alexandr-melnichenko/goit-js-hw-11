{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryMarkup = photos => \n    photos.map(photo => \n        `<li class=\"li-gallery\">\n      <div class=\"img-box\">\n    <a class=\"gallery-link\" href=\"${photo.largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${photo.webformatURL}\"\n          alt=\"${photo.tags}\"\n          title=\"${photo.tags}\"/>\n      </a>\n      </div>\n      <div class=\"description-box\">\n        <div class=\"param-boxes\"><p class=\"parameters\">likes</p>\n        <p class=\"values\">${photo.likes}</p></div>\n        <div class=\"param-boxes\"><p class=\"parameters\">views</p>\n        <p class=\"values\">${photo.views}</p></div>\n        <div class=\"param-boxes\"><p class=\"parameters\">comments</p>\n        <p class=\"values\">${photo.comments}</p></div>\n        <div class=\"param-boxes\"><p class=\"parameters\">downloads</p>\n        <p class=\"values\">${photo.downloads}</p></div>\n      </div>\n      </li>`).join(\"\");\n","import { gallery, showBox } from \"../main\";\nimport { createGalleryMarkup } from \"./render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nexport const BASE_URL = \"https://pixabay.com/\";\nexport const API_KEY = \"46035162-73af77dc9f391d36c3be30780\";\n\n\n// Функції для запуску та закриття лоадера\n function showLoader() {\n    document.getElementById('loader').style.display = 'block';\n    }\n    \n function hideLoader() {\n        document.getElementById('loader').style.display = 'none';\n    }\n\n// Колбек при натисканні кнопки + запит на сервер\nexport function onButtonSubmit (event) {\n    event.preventDefault();\n    showLoader();\n\nconst forma = event.currentTarget;\nconst {\n    searchValue: { value: query },\n  } = forma.elements;\nconsole.log(query);\n\n// let searchValue = inputSearchValue();\n \n// Перевірка на пустий інпут    \nif (query === \"\") {\n    iziToast.show({\n        message: `⚠️ Please fill search input`,\n        position: 'topRight',\n        color: 'yellow',\n    })\n     hideLoader();\nreturn\n}\n\nconst options = {\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n};\n\n\n// Перетворюю обʼєкт в урл формат запиту\nconst params = new URLSearchParams(options);\n  console.log(params.toString()); // Для проверки правильности параметров\n\n//   зачистка попередньої видачі\ngallery.innerHTML = \"\";  \n\n// Проміс фетч з запитом та методами обробки даних\nfetch(`${BASE_URL}api/?${params}`)\n.then((response) => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  })\n  .then((photos) => {\n    if(!photos.hits || photos.hits.length === 0) {\n        iziToast.show({\n            title: \"❌\",\n            message: `\"Sorry, there are no images matching your search query. Please try again!\"`,\n            position: 'topRight',\n            color: 'red',\n        })\n        return\n    }\n    console.log(photos);\n    gallery.insertAdjacentHTML(\"beforeend\", createGalleryMarkup(photos.hits));\n    showBox.refresh();\n})\n      \n  .catch((error) => console.log(error))\n  .finally(() => {hideLoader()}); \n}","// Імпорт бібліотек\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport {  onButtonSubmit } from \"./js/pixabay-api\";\n// import { createGalleryMarkup } from \"./js/render-functions\";\n\nconst form = document.querySelector('form.js-search-form');\nexport const gallery = document.querySelector('.gallery');\n\nexport const showBox = new SimpleLightbox('.img-box a', { \n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n    overlayOpacity: 0.7,\n    className: 'lightbox',\n   });\n\n\nform.addEventListener('submit', onButtonSubmit);\n\n"],"names":["createGalleryMarkup","photos","photo","BASE_URL","API_KEY","showLoader","hideLoader","onButtonSubmit","event","forma","query","iziToast","options","params","gallery","response","showBox","error","form","SimpleLightbox"],"mappings":"6vBAAO,MAAMA,EAAsBC,GAC/BA,EAAO,IAAIC,GACP;AAAA;AAAA,oCAE4BA,EAAM,aAAa;AAAA;AAAA;AAAA,iBAGtCA,EAAM,YAAY;AAAA,iBAClBA,EAAM,IAAI;AAAA,mBACRA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,4BAKDA,EAAM,KAAK;AAAA;AAAA,4BAEXA,EAAM,KAAK;AAAA;AAAA,4BAEXA,EAAM,QAAQ;AAAA;AAAA,4BAEdA,EAAM,SAAS;AAAA;AAAA,YAE/B,EAAE,KAAK,EAAE,EClBRC,EAAW,uBACXC,EAAU,qCAItB,SAASC,GAAa,CACnB,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,OACjD,CAEJ,SAASC,GAAa,CACf,SAAS,eAAe,QAAQ,EAAE,MAAM,QAAU,MACrD,CAGE,SAASC,EAAgBC,EAAO,CACnCA,EAAM,eAAc,EACpBH,IAEJ,MAAMI,EAAQD,EAAM,cACd,CACF,YAAa,CAAE,MAAOE,CAAO,CACjC,EAAMD,EAAM,SAMZ,GALA,QAAQ,IAAIC,CAAK,EAKbA,IAAU,GAAI,CACdC,EAAS,KAAK,CACV,QAAS,8BACT,SAAU,WACV,MAAO,QACf,CAAK,EACAL,IACL,MACA,CAEA,MAAMM,EAAU,CACZ,IAAKR,EACL,EAAGM,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,EAIMG,EAAS,IAAI,gBAAgBD,CAAO,EACxC,QAAQ,IAAIC,EAAO,SAAU,CAAA,EAG/BC,EAAQ,UAAY,GAGpB,MAAM,GAAGX,CAAQ,QAAQU,CAAM,EAAE,EAChC,KAAME,GAAa,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,EACA,KAAMd,GAAW,CAChB,GAAG,CAACA,EAAO,MAAQA,EAAO,KAAK,SAAW,EAAG,CACzCU,EAAS,KAAK,CACV,MAAO,IACP,QAAS,6EACT,SAAU,WACV,MAAO,KACnB,CAAS,EACD,MACH,CACD,QAAQ,IAAIV,CAAM,EAClBa,EAAQ,mBAAmB,YAAad,EAAoBC,EAAO,IAAI,CAAC,EACxEe,EAAQ,QAAO,CACnB,CAAC,EAEE,MAAOC,GAAU,QAAQ,IAAIA,CAAK,CAAC,EACnC,QAAQ,IAAM,CAACX,EAAY,CAAA,CAAC,CAC/B,CC5EA,MAAMY,EAAO,SAAS,cAAc,qBAAqB,EAC5CJ,EAAU,SAAS,cAAc,UAAU,EAE3CE,EAAU,IAAIG,EAAe,aAAc,CACpD,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,GAChB,UAAW,UACf,CAAI,EAGJD,EAAK,iBAAiB,SAAUX,CAAc"}